
import os
import time
import yaml

'''
Top Runs
['000197', '000419', '000215', '000219', '000370', '000185', '000210', '000191', '000181', '000194', '000382', '000195', '000203', '000217', '000208', '000374', '000198', '000400', '000401', '000209', '000366', '000381', '000190', '000193', '000361', '000183', '000189', '000399', '000201', '000395', '000220', '000196', '000384', '000184', '000223', '000182', '000218', '000224', '000368', '000206', '000221', '000222', '000398', '000199', '000205', '000192', '000412', '000362', '000188', '000402', '000372', '000404', '000202', '000213', '000187', '000408', '000388', '000383', '000406', '000448', '000200', '000409', '000421', '000386', '000427', '000415', '000431', '000434', '000212', '000446', '000418', '000450', '000445', '000444', '000443', '000392', '000214', '000442', '000375', '000424', '000440', '000364', '000430', '000426', '000425', '000435', '000417', '000204', '000385', '000230', '000367', '000437', '000422', '000396', '000407', '000423', '000420', '000411', '000389', '000441']
'''
best_runs = ['000181']
#best_runs = ['000181','000185','000191','000195','000197','000203','000210','000215','000219','000370','000382','000419']

'''
for run in best_runs:
    with open("Configs/best_runs/" + run + ".yaml", 'r') as file:
        config = yaml.safe_load(file)
        config["behaviors"]["Robotarm"]["max_steps"] = 5000000
        config["behaviors"]["Robotarm"]["checkpoint_interval"]= 300000
        config["engine_settings"] = {"time_scale": 75}
        config["env_settings"]["num_envs"] = 1



        #if not (os.path.exists(""Configs/best_runs/" + run)):
        #    os.mkdir("Configs/best_runs/" + run)
        with open("Configs/best_runs/" + run + ".yaml", 'w') as out_file:
            yaml.dump(config, out_file)
'''

for run in best_runs:
    config = "Configs/best_runs/" + run + ".yaml"
    print("Config: " + config)
    os.system("mlagents-learn " + config + " --run-id " + run )
    #os.system("mlagents-learn " + config + " --run-id " +  run  + " --resume")
    time.sleep(5)